<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Exemple D3 JS</title>
    <script src="./lib/d3.min.js"></script>
</head>

<body>

<script>
    let svg = d3.select('body').append('svg');
    svg.attr('width', 600)
        .attr('height', 400);

    function calculerX(d, i) {
        return 60 * d;
    }


    function afficher(dat, color) {
        // Enter
        rects = svg.selectAll('rect').data(dat);
        rects.enter()
            .append('rect')
            .attr('width', 20)
            .attr('height', 20)
            .attr('y', 50)
            .attr('x', calculerX)
            .attr('fill', color);
        
        // Update
        rects
            .attr('x', calculerX)
            .attr('fill', color);

        // Exit
        rects.exit().remove();
        
    }

    afficher([1, 2, 3], 'red');
    afficher([1, 2, 4, 5, 6], 'blue');
    afficher([1, 2, 2.5], 'yellow');
</script>

</body>

</html>